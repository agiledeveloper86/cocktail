<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Add a custom action control | Grocery CRUD, a Codeigniter CRUD</title>
	
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="resource-type" content="document" />
		<meta name="robots" content="all, index, follow"/>
		<meta name="googlebot" content="all, index, follow" /> 
	
		<link rel="canonical" href="add_action_example.html" />
			
		<meta property="og:image" content="http://www.grocerycrud.com/assets/themes/default/images/logo-thumb.jpg"/>
		<link rel="search" type="application/opensearchdescription+xml" href="http://www.grocerycrud.com/opensearch.xml" title="Grocery CRUD Search">
		<link rel="image_src" href="http://www.grocerycrud.com/assets/themes/default/images/logo-thumb.jpg" />
		<link rel="shortcut icon" href="http://www.grocerycrud.com/assets/themes/default/images/favicon.png" type="image/x-icon"/>
	
		<link rel="stylesheet" href="http://www.grocerycrud.com/assets/themes/default/css/cache_ab4ac083805f8fb812d927285c647948.css?8202130805" type="text/css" />
	
		<script src="http://www.grocerycrud.com/assets/themes/default/js/jquery-1.7.1.min.js?8202130805"></script>
		
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<!--[if IE 9]>
			<link rel="stylesheet" href="http://www.grocerycrud.com/assets/themes/default/css/ie9.css" type="text/css" /
		<![endif]-->
	</head>
<body>
<div class="container" id='top'>
		<header>
			<div id="logo">
				<a href="http://www.grocerycrud.com/">
					<img src="http://d328ce9sgcu5lp.cloudfront.net/themes/default/images/logo.png" alt="grocery CRUD logo" width='248' height='119' itemprop="image" >
				</a>
			</div>
			<div id='basic-menu'>
			
				<div id='header-top-right'>
				</div>
				<nav id="main-navigation">
					<ul>
						<li class='first current'><a href="../examples.html">Examples</a></li>
						<li><a href="../documentation.html">Documentation</a></li>
						<li><a href="http://www.grocerycrud.com/downloads">Download</a></li>
						<li><a href="http://www.grocerycrud.com/forums">Forum</a></li>
						<li class='last'><a href="http://www.grocerycrud.com/donate">Donate</a></li>
					</ul>
				</nav>
			</div>
			<div class='clear'></div>
			<div class="h20"></div>
		</header>
	</div>
	    	
     	<div class='default-line'>
     		<div class="container">
        		<div class="left-container pt10 no-border">
                	<div class='home-grocery floatL'>
                    	<a href='http://www.grocerycrud.com/'><img src="http://d328ce9sgcu5lp.cloudfront.net/assets/themes/default/images/home-grocery.png" alt='' /></a>
                    </div>
                	<ul id='breadcrumb'>
<li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="../examples.html" itemprop="url" ><span itemprop="title">Examples</span></a>
</li><li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="add_action_example.html" itemprop="url" ><span itemprop="title">Add a custom action control</span></a>
</li>                    </ul>
                    <div class='clear'></div>
                </div>
	          <div class="right-container pt10">
				<form action='/search' method='get'>
					<div class='search-box'>
						<div class='floatL'>
							<input id='quick_search' name='q' type='text' value='Quick Search...' onclick="javascript: document.getElementById('quick_search').value = '';" onblur ="javascript: if(document.getElementById('quick_search').value == '') document.getElementById('quick_search').value = 'Quick Search...';" />
						</div>
						<div class='floatR'>
							<input type='image' src="http://d328ce9sgcu5lp.cloudfront.net/assets/themes/default/images/quick-search-button.png" alt='' />
						</div>
						<div class='clear'></div>
					</div>
				</form>	
			  </div>                  
                <div class='clear'></div>
     		</div>   		
     	</div>
		
		 <div class="container">		
        <section class='one-column-container pt10'>
        		<div class='content'>
					<h1>Add a custom action control</h1>
	                 <p>For more about the parameters of add_action, you can read the <a href='../documentation/options_functions/add_action.html'> add_action method</a> documentation.</p>
<div class="code"><pre class="php">&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> offices_management_with_actions<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #0000ff;">$crud</span> = <span style="color: #000000; font-weight: bold;">new</span> grocery_CRUD<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">set_theme</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'datatables'</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">set_table</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'offices'</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">set_subject</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Office'</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">required_fields</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'city'</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">columns</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'city'</span>,<span style="color: #ff0000;">'country'</span>,<span style="color: #ff0000;">'phone'</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">add_action</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'More'</span>, <span style="color: #ff0000;">''</span>, <span style="color: #ff0000;">'demo/action_more'</span>,<span style="color: #ff0000;">'ui-icon-plus'</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">add_action</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Photos'</span>, <span style="color: #ff0000;">''</span>, <span style="color: #ff0000;">''</span>,<span style="color: #ff0000;">'ui-icon-image'</span>,<a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$this</span>,<span style="color: #ff0000;">'just_a_test'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">add_action</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Smileys'</span>, <span style="color: #ff0000;">'http://www.nulledtemplates.com/images/ActiveDen-Extendable-Photo-Gallery-Rip_-evia_2.png'</span>, <span style="color: #ff0000;">'demo/action_smiley'</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
    <span style="color: #0000ff;">$output</span> = <span style="color: #0000ff;">$crud</span>-&gt;<span style="color: #006600;">render</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
    <span style="color: #0000ff;">$this</span>-&gt;_example_output<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$output</span><span style="color: #66cc66;">&#41;</span>;
<span style="color: #66cc66;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> just_a_test<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$primary_key</span> , <span style="color: #0000ff;">$row</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #b1b100;">return</span> site_url<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'demo/action/action_photos'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #ff0000;">'?country='</span>.<span style="color: #0000ff;">$row</span>-&gt;<span style="color: #006600;">country</span>;
<span style="color: #66cc66;">&#125;</span>
&nbsp;</pre></div>
<p>And the result will be:</p>
<div id="bsap_1271391" class="bsarocks bsap_19492eb42d0fd695352ecaefa1dc0a1d"></div>
<div style="z-index:99;position:absolute;font-size:11px; margin-left:852px;margin-top: -22px"><a id="bsap_aplink" href="http://adpacks.com/">via Ad Packs</a></div>
<div class='clear'></div>
<div style="padding-top:10px;margin-bottom:5px;">
	<b>Note:</b> The below example is an iframe so it might appeared with a scroll bar. If you like you can view the example 
	<a href='http://www.grocerycrud.com/demo/offices_management_with_actions' target='_blank' rel='nofollow' >
		on a new tab
	</a>
</div>
<div>
	<iframe src="http://www.grocerycrud.com/demo/offices_management_with_actions/iframe" width="100%" height="900" style="border:none;"></iframe>
</div>

<p>You can use add_action with the flexigrid theme also. But remember you MUST add an image url to have good result.</p>

<p>Below I just copied the functions that I used for the actions:</p>
<div class="code"><pre class="php">&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> action_photos<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>
    <span style="color: #66cc66;">&#123;</span>
        <span style="color: #808080; font-style: italic;">//Just a quick filtering of $_GET </span>
        <span style="color: #0000ff;">$country</span> = <a href="http://www.php.net/preg_replace"><span style="color: #000066;">preg_replace</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;/([^a-zA-Z0-9<span style="color: #000099; font-weight: bold;">\.</span><span style="color: #000099; font-weight: bold;">\-</span><span style="color: #000099; font-weight: bold;">\_</span>]+?){1}/i&quot;</span>, <span style="color: #ff0000;">' '</span>, <span style="color: #0000ff;">$_GET</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'country'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;div style='font-size:16px;font-family:Arial'&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Just a test function for photos button and country: &lt;b&gt;&quot;</span>.<span style="color: #0000ff;">$country</span>.<span style="color: #ff0000;">&quot;&lt;/b&gt;&lt;br/&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;a href='&quot;</span>.site_url<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'demo/offices_management_with_actions'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #ff0000;">&quot;'&gt;Go back to example&lt;/a&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;/div&gt;&quot;</span>;
        <a href="http://www.php.net/die"><span style="color: #000066;">die</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;        
    <span style="color: #66cc66;">&#125;</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">function</span> action_more<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$id</span><span style="color: #66cc66;">&#41;</span>
    <span style="color: #66cc66;">&#123;</span>
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;div style='font-size:16px;font-family:Arial'&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Just a test function for more button and id: &lt;b&gt;&quot;</span>.<span style="color: #66cc66;">&#40;</span>int<span style="color: #66cc66;">&#41;</span><span style="color: #0000ff;">$id</span>.<span style="color: #ff0000;">&quot;&lt;/b&gt;&lt;br/&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;a href='&quot;</span>.site_url<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'demo/offices_management_with_actions'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #ff0000;">&quot;'&gt;Go back to example&lt;/a&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;/div&gt;&quot;</span>;
        <a href="http://www.php.net/die"><span style="color: #000066;">die</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #66cc66;">&#125;</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">function</span> action_smiley<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$id</span><span style="color: #66cc66;">&#41;</span>
    <span style="color: #66cc66;">&#123;</span>
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;div style='font-size:16px;font-family:Arial'&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Just a test function for action button smiley and id: &lt;b&gt;&quot;</span>.<span style="color: #66cc66;">&#40;</span>int<span style="color: #66cc66;">&#41;</span><span style="color: #0000ff;">$id</span>.<span style="color: #ff0000;">&quot;&lt;/b&gt;&lt;br/&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;a href='&quot;</span>.site_url<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'demo/offices_management_with_actions'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #ff0000;">&quot;'&gt;Go back to example&lt;/a&gt;&quot;</span>;
        <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;&lt;/div&gt;&quot;</span>;
        <a href="http://www.php.net/die"><span style="color: #000066;">die</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #66cc66;">&#125;</span>
&nbsp;</pre></div>
                 </div>
          </section>
                    <div class="clear"></div>
	</div>
	<footer class='container-full footer-background'>
		<div class='container'>
			<div class='footer-left'>
				Grocery CRUD is released with <a href="https://github.com/scoumbourdis/grocery-crud/blob/master/license-grocery-crud.txt" target="_blank">dual licensing</a>, using the <a href="https://github.com/scoumbourdis/grocery-crud/blob/master/license-gpl3.txt" target="_blank">GPL v3</a>
				 and the <a href="https://github.com/scoumbourdis/grocery-crud/blob/master/license-mit.txt" target="_blank">MIT license</a>.
				<div style="height: 15px;"></div>
				<div class='floatL'>
				 	Copyright &copy; <a href="https://plus.google.com/u/0/107789497808468736690?rel=author" target="_blank">John Skoumbourdis</a> | <a href='http://www.web-and-development.com/' target="_blank">www.web-and-development.com</a>
				 </div>		 
				 <div class="floatL" style="margin-left:10px;margin-top: -7px;">
					<form id='donate-form' action="https://www.paypal.com/cgi-bin/webscr" method="post">
						<input type="hidden" name="cmd" value="_s-xclick" />
						<input type="hidden" name="hosted_button_id" value="RTHNZ5U8K8RKQ" />
						<input style='border:none' type="image" src="http://www.grocerycrud.com/assets/themes/default/images/btn_donate_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!" />
					</form>				 
				 </div>
				 <div class="clear"></div>				
			 </div>
			 
			 <div id='browsers-logos'>
				<div class="h10"></div>			
				  <a href="http://www.facebook.com/pages/Grocery-CRUD/226957574012339" target='_blank' title="Facebook"><span class="mozila"></span></a> 
				  <a href="https://plus.google.com/u/0/102534880214903785396" target='_blank' title="Google +"><span class="chrome"></span></a> 
				  <a href="https://twitter.com/groceryCRUD" target='_blank' title="Twitter"><span class="explorer"></span></a>
				  <a href="https://github.com/scoumbourdis/grocery-crud" target='_blank' title="GitHub"><span class="github"></span></a> 
				  				
				<div class='clear'></div>
			 </div>
			 <div class='clear'></div>
		 </div>
	</footer>
			<script type="text/javascript">
	(function(){
	  var bsa = document.createElement('script');
	     bsa.type = 'text/javascript';
	     bsa.async = true;
	     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
	  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
	})();
	</script>
			
		<!-- Google Analytics -->
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-23493740-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
	</body>
</html>